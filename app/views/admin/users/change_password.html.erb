<div class="container">
<%= form_with model: @user, url: update_password_admin_user_path(@user), method: :patch, class: 'formtastic product', novalidate: true do |f| %>
    <h1>Change Password for <%= @user.first_name %> <%= @user.last_name %> (<%= @user.email %>)</h1>
    <fieldset class="form-group">

      <% if @user.errors.any? %>
        <div class="alert alert-danger">
          <ul>
            <% @user.errors.full_messages.each do |msg| %>
              <li><%= msg %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <!-- Password Row -->
      <div class="form-row mt-4">
        <div class="form-group col-md-6">
          <%= f.label :password, "New Password", class: 'control-label' %>
        <%= f.password_field :password, required: true, class: 'form-control' %>
          <% if @user.errors[:password].any? %>
            <div class="text-danger">
              <%= @user.errors[:password].join(', ') %>
            </div>
          <% end %>
        </div>
        <div class="form-group col-md-6">
          <%= f.label :password_confirmation, "Confirm New Password", class: 'control-label' %>
        <%= f.password_field :password_confirmation, required: true, class: 'form-control' %>
          <% if @user.errors[:password_confirmation].any? %>
            <div class="text-danger">
              <%= @user.errors[:password_confirmation].join(', ') %>
            </div>
          <% end %>
        </div>
      </div>

      <!-- Actions -->
      <div class="form-row">
        <div class="form-group col-md-2 d-flex">
          <%= f.submit 'Update Password', class: 'btn btn-primary py-2 mr-2' %>
          <%= link_to 'Cancel', admin_users_path, class: 'btn btn-secondary' %>
        </div>
      </div>
    </fieldset>
  <% end %>
</div>